

==========[ Starting ./bacula-resource-auto-creator.py v0.07 ]==========
- Logging to file: /tmp/bacula-resource-auto-creator_20240211124144/bacula-resource-auto-creator_20240211124144.log
- Getting OS's uname for use in other tests
- Determining the correct mt "ready" string
- Getting the list of tape libraries' sg nodes
 - Found 3 libraries
  - Library sg nodes: sg16, sg17, sg9
- Determining libraries' by-id nodes from their sg nodes
 - Library by-id nodes: scsi-SSTK_L700_XYZZY_A, scsi-SSTK_L80_XYZZY_B, scsi-SSTK_L80_WAA_A
- Getting the list of tape drives' st nodes
 - Found 12 drives
  - Tape drive st nodes: st0, st1, st10, st11, st2, st3, st4, st5, st6, st7, st8, st9
- Determining drives' by-id nodes from their st nodes
 - Tape drive by-id nodes: scsi-350223344ab000300-nst, scsi-350223344ab005100-nst, scsi-350223344ab001100-nst, scsi-350223344ab005200-nst, scsi-350223344ab001000-nst, scsi-350223344ab001200-nst, scsi-350223344ab005400-nst, scsi-350223344ab005300-nst, scsi-350223344ab000900-nst, scsi-350223344ab000100-nst, scsi-350223344ab000400-nst, scsi-350223344ab000200-nst
==========[ Startup Complete ]==========


==========================================================================
Checking if we send 'offline' command to all drives in the Libraries Found
==========================================================================
- The 'offline' variable is False, skip sending offline commands


====================================================
Unloading All Tape Drives In The (3) Libraries Found
====================================================
-------------------------------------------------
scsi-SSTK_L700_XYZZY_A: Unloading (4) Tape Drives
-------------------------------------------------
- Checking if a tape is in drive 0
 - Drive 0 is empty
- Checking if a tape is in drive 1
 - Drive 1 is empty
- Checking if a tape is in drive 2
 - Drive 2 is empty
- Checking if a tape is in drive 3
 - Drive 3 is empty

------------------------------------------------
scsi-SSTK_L80_XYZZY_B: Unloading (4) Tape Drives
------------------------------------------------
- Checking if a tape is in drive 0
 - Drive 0 is loaded with volume G03001TA from slot 1
  - Unloading volume G03001TA from drive 0 to slot 1
    - Unload successful
- Checking if a tape is in drive 1
 - Drive 1 is loaded with volume G03002TA from slot 2
  - Unloading volume G03002TA from drive 1 to slot 2
    - Unload successful
- Checking if a tape is in drive 2
 - Drive 2 is loaded with volume G03003TA from slot 3
  - Unloading volume G03003TA from drive 2 to slot 3
    - Unload successful
- Checking if a tape is in drive 3
 - Drive 3 is loaded with volume G03004TA from slot 4
  - Unloading volume G03004TA from drive 3 to slot 4
    - Unload successful

----------------------------------------------
scsi-SSTK_L80_WAA_A: Unloading (4) Tape Drives
----------------------------------------------
- Checking if a tape is in drive 0
 - Drive 0 is loaded with volume G05001TA from slot 1
  - Unloading volume G05001TA from drive 0 to slot 1
    - Unload successful
- Checking if a tape is in drive 1
 - Drive 1 is loaded with volume G05002TA from slot 2
  - Unloading volume G05002TA from drive 1 to slot 2
    - Unload successful
- Checking if a tape is in drive 2
 - Drive 2 is loaded with volume G05003TA from slot 3
  - Unloading volume G05003TA from drive 2 to slot 3
    - Unload successful
- Checking if a tape is in drive 3
 - Drive 3 is loaded with volume G05004TA from slot 4
  - Unloading volume G05004TA from drive 3 to slot 4
    - Unload successful


====================================
Iterating Through Each Library Found
====================================
------------------------------------------------
Library 'scsi-SSTK_L700_XYZZY_A' with (4) drives
------------------------------------------------
- Skipping multi LTO drive mhVTL library: scsi-SSTK_L700_XYZZY_A

-----------------------------------------------
Library 'scsi-SSTK_L80_XYZZY_B' with (4) drives
-----------------------------------------------
------------------------
Identifying DriveIndex 0
------------------------
- Loading volume G03002TA from slot 2 into drive 0
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G03002TA is loaded in /dev/tape/by-id/scsi-350223344ab000900-nst
  - This is Bacula 'DriveIndex = 0'
   - Unloading drive 0
    - Unload successful
------------------------
Identifying DriveIndex 1
------------------------
- Loading volume G03039TA from slot 39 into drive 1
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G03039TA is loaded in /dev/tape/by-id/scsi-350223344ab001000-nst
  - This is Bacula 'DriveIndex = 1'
   - Unloading drive 1
    - Unload successful
------------------------
Identifying DriveIndex 2
------------------------
- Loading volume G03011TA from slot 11 into drive 2
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G03011TA is loaded in /dev/tape/by-id/scsi-350223344ab001100-nst
  - This is Bacula 'DriveIndex = 2'
   - Unloading drive 2
    - Unload successful
------------------------
Identifying DriveIndex 3
------------------------
- Loading volume G03015TA from slot 15 into drive 3
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G03015TA is loaded in /dev/tape/by-id/scsi-350223344ab001200-nst
  - This is Bacula 'DriveIndex = 3'
   - Unloading drive 3
    - Unload successful

---------------------------------------------
Library 'scsi-SSTK_L80_WAA_A' with (4) drives
---------------------------------------------
------------------------
Identifying DriveIndex 0
------------------------
- Loading volume G05014TA from slot 14 into drive 0
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G05014TA is loaded in /dev/tape/by-id/scsi-350223344ab005100-nst
  - This is Bacula 'DriveIndex = 0'
   - Unloading drive 0
    - Unload successful
------------------------
Identifying DriveIndex 1
------------------------
- Loading volume G05026TA from slot 26 into drive 1
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G05026TA is loaded in /dev/tape/by-id/scsi-350223344ab005200-nst
  - This is Bacula 'DriveIndex = 1'
   - Unloading drive 1
    - Unload successful
------------------------
Identifying DriveIndex 2
------------------------
- Loading volume G05030TA from slot 30 into drive 2
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G05030TA is loaded in /dev/tape/by-id/scsi-350223344ab005300-nst
  - This is Bacula 'DriveIndex = 2'
   - Unloading drive 2
    - Unload successful
------------------------
Identifying DriveIndex 3
------------------------
- Loading volume G05021TA from slot 21 into drive 3
 - Loaded OK
  - Sleeping 1 seconds to allow drive to settle
 - ONLINE: Tape G05021TA is loaded in /dev/tape/by-id/scsi-350223344ab005400-nst
  - This is Bacula 'DriveIndex = 3'
   - Unloading drive 3
    - Unload successful


========[ Bacula Drive 'ArchiveDevice' => Bacula 'DriveIndex' settings ]========
-------------------------------
Library: scsi-SSTK_L700_XYZZY_A
-------------------------------
No drives were detected in this library, or it was intentionally skipped

------------------------------
Library: scsi-SSTK_L80_XYZZY_B
------------------------------
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab000900-nst => DriveIndex = 0
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab001000-nst => DriveIndex = 1
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab001100-nst => DriveIndex = 2
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab001200-nst => DriveIndex = 3

----------------------------
Library: scsi-SSTK_L80_WAA_A
----------------------------
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab005100-nst => DriveIndex = 0
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab005200-nst => DriveIndex = 1
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab005300-nst => DriveIndex = 2
ArchiveDevice = /dev/tape/by-id/scsi-350223344ab005400-nst => DriveIndex = 3

---------------------------------------------------------
Stand Alone Drives (May be in a library that was skipped)
---------------------------------------------------------
scsi-350223344ab000100-nst, scsi-350223344ab000200-nst, scsi-350223344ab000300-nst, scsi-350223344ab000400-nst
================================================================================


=================================================================================
Generating Bacula Resource Configuration Files For Each Library Found With Drives
=================================================================================
------------------------------
Library: scsi-SSTK_L80_XYZZY_B
------------------------------
- Generating Director Storage Resource
 - Done
- Generating Storage Autochanger And Device Resources
 - Generating Device Resource: Autochanger_SSTK_L80_XYZZY_B_Dev0
  - Done
 - Generating Device Resource: Autochanger_SSTK_L80_XYZZY_B_Dev1
  - Done
 - Generating Device Resource: Autochanger_SSTK_L80_XYZZY_B_Dev2
  - Done
 - Generating Device Resource: Autochanger_SSTK_L80_XYZZY_B_Dev3
  - Done
 - Storage Autochanger And Drive Device Resources Done

----------------------------
Library: scsi-SSTK_L80_WAA_A
----------------------------
- Generating Director Storage Resource
 - Done
- Generating Storage Autochanger And Device Resources
 - Generating Device Resource: Autochanger_SSTK_L80_WAA_A_Dev0
  - Done
 - Generating Device Resource: Autochanger_SSTK_L80_WAA_A_Dev1
  - Done
 - Generating Device Resource: Autochanger_SSTK_L80_WAA_A_Dev2
  - Done
 - Generating Device Resource: Autochanger_SSTK_L80_WAA_A_Dev3
  - Done
 - Storage Autochanger And Drive Device Resources Done


===========================================================================================================
DONE: Resource configuration files and script log file in: /tmp/bacula-resource-auto-creator_20240211124144
NOTE: You *MUST* edit the following Director Storage resource files in the directory above:
      * DirectorStorage_Autochanger_SSTK_L80_XYZZY_B.cfg
      * DirectorStorage_Autochanger_SSTK_L80_WAA_A.cfg
===========================================================================================================
Bacula Resource Auto Creator - v0.07 - bacula-resource-auto-creator.py
By: Bill Arlofski waa@revpol.com (c) February 11, 2024

